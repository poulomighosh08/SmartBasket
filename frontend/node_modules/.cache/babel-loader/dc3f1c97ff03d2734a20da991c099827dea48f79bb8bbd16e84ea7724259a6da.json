{"ast":null,"code":"export const addDecimals = num => {\n  return (Math.round(num * 100) / 100).toFixed(2);\n};\n\n// NOTE: the code below has been changed from the course code to fix an issue\n// with type coercion of strings to numbers.\n// Our addDecimals function expects a number and returns a string, so it is not\n// correct to call it passing a string as the argument.\n\nexport const updateCart = state => {\n  // Calculate the items price\n  const itemsPrice = state.cartItems.reduce((acc, item) => acc + item.price * item.qty, 0);\n  state.itemsPrice = addDecimals(itemsPrice);\n\n  // Calculate the shipping price\n  const shippingPrice = itemsPrice > 100 ? 0 : 10;\n  state.shippingPrice = addDecimals(shippingPrice);\n\n  // Calculate the tax price\n  const taxPrice = 0.15 * itemsPrice;\n  state.taxPrice = addDecimals(taxPrice);\n  const totalPrice = itemsPrice + shippingPrice + taxPrice;\n  // Calculate the total price\n  state.totalPrice = addDecimals(totalPrice);\n\n  // Save the cart to localStorage\n  localStorage.setItem('cart', JSON.stringify(state));\n  return state;\n};","map":{"version":3,"names":["addDecimals","num","Math","round","toFixed","updateCart","state","itemsPrice","cartItems","reduce","acc","item","price","qty","shippingPrice","taxPrice","totalPrice","localStorage","setItem","JSON","stringify"],"sources":["/home/poulg/E-Commerce App/frontend/src/utils/cartUtils.js"],"sourcesContent":["export const addDecimals = (num) => {\n  return (Math.round(num * 100) / 100).toFixed(2);\n};\n\n// NOTE: the code below has been changed from the course code to fix an issue\n// with type coercion of strings to numbers.\n// Our addDecimals function expects a number and returns a string, so it is not\n// correct to call it passing a string as the argument.\n\nexport const updateCart = (state) => {\n  // Calculate the items price\n  const itemsPrice = state.cartItems.reduce(\n    (acc, item) => acc + item.price * item.qty,\n    0\n  );\n  state.itemsPrice = addDecimals(itemsPrice);\n\n  // Calculate the shipping price\n  const shippingPrice = itemsPrice > 100 ? 0 : 10;\n  state.shippingPrice = addDecimals(shippingPrice);\n\n  // Calculate the tax price\n  const taxPrice = 0.15 * itemsPrice;\n  state.taxPrice = addDecimals(taxPrice);\n\n  const totalPrice = itemsPrice + shippingPrice + taxPrice;\n  // Calculate the total price\n  state.totalPrice = addDecimals(totalPrice);\n\n  // Save the cart to localStorage\n  localStorage.setItem('cart', JSON.stringify(state));\n\n  return state;\n};\n"],"mappings":"AAAA,OAAO,MAAMA,WAAW,GAAIC,GAAG,IAAK;EAClC,OAAO,CAACC,IAAI,CAACC,KAAK,CAACF,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,EAAEG,OAAO,CAAC,CAAC,CAAC;AACjD,CAAC;;AAED;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,UAAU,GAAIC,KAAK,IAAK;EACnC;EACA,MAAMC,UAAU,GAAGD,KAAK,CAACE,SAAS,CAACC,MAAM,CACvC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAG,GAAGC,IAAI,CAACC,KAAK,GAAGD,IAAI,CAACE,GAAG,EAC1C,CAAC,CACF;EACDP,KAAK,CAACC,UAAU,GAAGP,WAAW,CAACO,UAAU,CAAC;;EAE1C;EACA,MAAMO,aAAa,GAAGP,UAAU,GAAG,GAAG,GAAG,CAAC,GAAG,EAAE;EAC/CD,KAAK,CAACQ,aAAa,GAAGd,WAAW,CAACc,aAAa,CAAC;;EAEhD;EACA,MAAMC,QAAQ,GAAG,IAAI,GAAGR,UAAU;EAClCD,KAAK,CAACS,QAAQ,GAAGf,WAAW,CAACe,QAAQ,CAAC;EAEtC,MAAMC,UAAU,GAAGT,UAAU,GAAGO,aAAa,GAAGC,QAAQ;EACxD;EACAT,KAAK,CAACU,UAAU,GAAGhB,WAAW,CAACgB,UAAU,CAAC;;EAE1C;EACAC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACd,KAAK,CAAC,CAAC;EAEnD,OAAOA,KAAK;AACd,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}