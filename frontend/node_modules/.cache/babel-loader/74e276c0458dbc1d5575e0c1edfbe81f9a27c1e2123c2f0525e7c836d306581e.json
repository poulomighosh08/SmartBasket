{"ast":null,"code":"import { PRODUCTS_URL } from '../constants';\nimport { apiSlice } from './apiSlice';\nexport const productsApiSlice = apiSlice.injectEndpoints({\n  endpoints: builder => ({\n    getProducts: builder.query({\n      query: _ref => {\n        let {\n          keyword,\n          pageNumber\n        } = _ref;\n        return {\n          url: PRODUCTS_URL,\n          params: {\n            keyword,\n            pageNumber\n          }\n        };\n      },\n      keepUnusedDataFor: 5,\n      providesTags: ['Products']\n    }),\n    getProductDetails: builder.query({\n      query: productId => ({\n        url: `${PRODUCTS_URL}/${productId}`\n      }),\n      keepUnusedDataFor: 5\n    }),\n    createProduct: builder.mutation({\n      query: () => ({\n        url: `${PRODUCTS_URL}`,\n        method: 'POST'\n      }),\n      invalidatesTags: ['Product']\n    }),\n    updateProduct: builder.mutation({\n      query: data => ({\n        url: `${PRODUCTS_URL}/${data.productId}`,\n        method: 'PUT',\n        body: data\n      }),\n      invalidatesTags: ['Products']\n    }),\n    uploadProductImage: builder.mutation({\n      query: data => ({\n        url: `/api/upload`,\n        method: 'POST',\n        body: data\n      })\n    }),\n    deleteProduct: builder.mutation({\n      query: productId => ({\n        url: `${PRODUCTS_URL}/${productId}`,\n        method: 'DELETE'\n      }),\n      providesTags: ['Product']\n    }),\n    createReview: builder.mutation({\n      query: data => ({\n        url: `${PRODUCTS_URL}/${data.productId}/reviews`,\n        method: 'POST',\n        body: data\n      }),\n      invalidatesTags: ['Product']\n    }),\n    getTopProducts: builder.query({\n      query: () => `${PRODUCTS_URL}/top`,\n      keepUnusedDataFor: 5\n    })\n  })\n});\nexport const {\n  useGetProductsQuery,\n  useGetProductDetailsQuery,\n  useCreateProductMutation,\n  useUpdateProductMutation,\n  useUploadProductImageMutation,\n  useDeleteProductMutation,\n  useCreateReviewMutation,\n  useGetTopProductsQuery\n} = productsApiSlice;","map":{"version":3,"names":["PRODUCTS_URL","apiSlice","productsApiSlice","injectEndpoints","endpoints","builder","getProducts","query","_ref","keyword","pageNumber","url","params","keepUnusedDataFor","providesTags","getProductDetails","productId","createProduct","mutation","method","invalidatesTags","updateProduct","data","body","uploadProductImage","deleteProduct","createReview","getTopProducts","useGetProductsQuery","useGetProductDetailsQuery","useCreateProductMutation","useUpdateProductMutation","useUploadProductImageMutation","useDeleteProductMutation","useCreateReviewMutation","useGetTopProductsQuery"],"sources":["/home/poulg/E-Commerce App/frontend/src/slices/productsApiSlice.js"],"sourcesContent":["import { PRODUCTS_URL } from '../constants';\nimport { apiSlice } from './apiSlice';\n\nexport const productsApiSlice = apiSlice.injectEndpoints({\n  endpoints: (builder) => ({\n    getProducts: builder.query({\n      query: ({ keyword, pageNumber }) => ({\n        url: PRODUCTS_URL,\n        params: { keyword, pageNumber },\n      }),\n      keepUnusedDataFor: 5,\n      providesTags: ['Products'],\n    }),\n    getProductDetails: builder.query({\n      query: (productId) => ({\n        url: `${PRODUCTS_URL}/${productId}`,\n      }),\n      keepUnusedDataFor: 5,\n    }),\n    createProduct: builder.mutation({\n      query: () => ({\n        url: `${PRODUCTS_URL}`,\n        method: 'POST',\n      }),\n      invalidatesTags: ['Product'],\n    }),\n    updateProduct: builder.mutation({\n      query: (data) => ({\n        url: `${PRODUCTS_URL}/${data.productId}`,\n        method: 'PUT',\n        body: data,\n      }),\n      invalidatesTags: ['Products'],\n    }),\n    uploadProductImage: builder.mutation({\n      query: (data) => ({\n        url: `/api/upload`,\n        method: 'POST',\n        body: data,\n      }),\n    }),\n    deleteProduct: builder.mutation({\n      query: (productId) => ({\n        url: `${PRODUCTS_URL}/${productId}`,\n        method: 'DELETE',\n      }),\n      providesTags: ['Product'],\n    }),\n    createReview: builder.mutation({\n      query: (data) => ({\n        url: `${PRODUCTS_URL}/${data.productId}/reviews`,\n        method: 'POST',\n        body: data,\n      }),\n      invalidatesTags: ['Product'],\n    }),\n    getTopProducts: builder.query({\n      query: () => `${PRODUCTS_URL}/top`,\n      keepUnusedDataFor: 5,\n    }),\n  }),\n});\n\nexport const {\n  useGetProductsQuery,\n  useGetProductDetailsQuery,\n  useCreateProductMutation,\n  useUpdateProductMutation,\n  useUploadProductImageMutation,\n  useDeleteProductMutation,\n  useCreateReviewMutation,\n  useGetTopProductsQuery,\n} = productsApiSlice;\n"],"mappings":"AAAA,SAASA,YAAY,QAAQ,cAAc;AAC3C,SAASC,QAAQ,QAAQ,YAAY;AAErC,OAAO,MAAMC,gBAAgB,GAAGD,QAAQ,CAACE,eAAe,CAAC;EACvDC,SAAS,EAAGC,OAAO,KAAM;IACvBC,WAAW,EAAED,OAAO,CAACE,KAAK,CAAC;MACzBA,KAAK,EAAEC,IAAA;QAAA,IAAC;UAAEC,OAAO;UAAEC;QAAW,CAAC,GAAAF,IAAA;QAAA,OAAM;UACnCG,GAAG,EAAEX,YAAY;UACjBY,MAAM,EAAE;YAAEH,OAAO;YAAEC;UAAW;QAChC,CAAC;MAAA,CAAC;MACFG,iBAAiB,EAAE,CAAC;MACpBC,YAAY,EAAE,CAAC,UAAU;IAC3B,CAAC,CAAC;IACFC,iBAAiB,EAAEV,OAAO,CAACE,KAAK,CAAC;MAC/BA,KAAK,EAAGS,SAAS,KAAM;QACrBL,GAAG,EAAG,GAAEX,YAAa,IAAGgB,SAAU;MACpC,CAAC,CAAC;MACFH,iBAAiB,EAAE;IACrB,CAAC,CAAC;IACFI,aAAa,EAAEZ,OAAO,CAACa,QAAQ,CAAC;MAC9BX,KAAK,EAAEA,CAAA,MAAO;QACZI,GAAG,EAAG,GAAEX,YAAa,EAAC;QACtBmB,MAAM,EAAE;MACV,CAAC,CAAC;MACFC,eAAe,EAAE,CAAC,SAAS;IAC7B,CAAC,CAAC;IACFC,aAAa,EAAEhB,OAAO,CAACa,QAAQ,CAAC;MAC9BX,KAAK,EAAGe,IAAI,KAAM;QAChBX,GAAG,EAAG,GAAEX,YAAa,IAAGsB,IAAI,CAACN,SAAU,EAAC;QACxCG,MAAM,EAAE,KAAK;QACbI,IAAI,EAAED;MACR,CAAC,CAAC;MACFF,eAAe,EAAE,CAAC,UAAU;IAC9B,CAAC,CAAC;IACFI,kBAAkB,EAAEnB,OAAO,CAACa,QAAQ,CAAC;MACnCX,KAAK,EAAGe,IAAI,KAAM;QAChBX,GAAG,EAAG,aAAY;QAClBQ,MAAM,EAAE,MAAM;QACdI,IAAI,EAAED;MACR,CAAC;IACH,CAAC,CAAC;IACFG,aAAa,EAAEpB,OAAO,CAACa,QAAQ,CAAC;MAC9BX,KAAK,EAAGS,SAAS,KAAM;QACrBL,GAAG,EAAG,GAAEX,YAAa,IAAGgB,SAAU,EAAC;QACnCG,MAAM,EAAE;MACV,CAAC,CAAC;MACFL,YAAY,EAAE,CAAC,SAAS;IAC1B,CAAC,CAAC;IACFY,YAAY,EAAErB,OAAO,CAACa,QAAQ,CAAC;MAC7BX,KAAK,EAAGe,IAAI,KAAM;QAChBX,GAAG,EAAG,GAAEX,YAAa,IAAGsB,IAAI,CAACN,SAAU,UAAS;QAChDG,MAAM,EAAE,MAAM;QACdI,IAAI,EAAED;MACR,CAAC,CAAC;MACFF,eAAe,EAAE,CAAC,SAAS;IAC7B,CAAC,CAAC;IACFO,cAAc,EAAEtB,OAAO,CAACE,KAAK,CAAC;MAC5BA,KAAK,EAAEA,CAAA,KAAO,GAAEP,YAAa,MAAK;MAClCa,iBAAiB,EAAE;IACrB,CAAC;EACH,CAAC;AACH,CAAC,CAAC;AAEF,OAAO,MAAM;EACXe,mBAAmB;EACnBC,yBAAyB;EACzBC,wBAAwB;EACxBC,wBAAwB;EACxBC,6BAA6B;EAC7BC,wBAAwB;EACxBC,uBAAuB;EACvBC;AACF,CAAC,GAAGjC,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}