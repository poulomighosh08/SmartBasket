{"ast":null,"code":"import { PRODUCTS_URL } from '../constants';\nimport { apiSlice } from './apiSlice';\nexport const productsApiSlice = apiSlice.injectEndpoints({\n  endpoints: builder => ({\n    getProducts: builder.query({\n      query: _ref => {\n        let {\n          keyword,\n          pageNumber,\n          category\n        } = _ref;\n        return {\n          url: PRODUCTS_URL,\n          params: {\n            keyword,\n            pageNumber,\n            category\n          }\n        };\n      },\n      keepUnusedDataFor: 5,\n      providesTags: ['Products']\n    }),\n    getProductDetails: builder.query({\n      query: productId => ({\n        url: `${PRODUCTS_URL}/${productId}`\n      }),\n      keepUnusedDataFor: 5\n    }),\n    createProduct: builder.mutation({\n      query: () => ({\n        url: `${PRODUCTS_URL}`,\n        method: 'POST'\n      }),\n      invalidatesTags: ['Product']\n    }),\n    updateProduct: builder.mutation({\n      query: data => ({\n        url: `${PRODUCTS_URL}/${data.productId}`,\n        method: 'PUT',\n        body: data\n      }),\n      invalidatesTags: ['Products']\n    }),\n    uploadProductImage: builder.mutation({\n      query: data => ({\n        url: `/api/upload`,\n        method: 'POST',\n        body: data\n      })\n    }),\n    deleteProduct: builder.mutation({\n      query: productId => ({\n        url: `${PRODUCTS_URL}/${productId}`,\n        method: 'DELETE'\n      }),\n      providesTags: ['Product']\n    }),\n    createReview: builder.mutation({\n      query: data => ({\n        url: `${PRODUCTS_URL}/${data.productId}/reviews`,\n        method: 'POST',\n        body: data\n      }),\n      invalidatesTags: ['Product']\n    }),\n    getTopProducts: builder.query({\n      query: () => `${PRODUCTS_URL}/top`,\n      keepUnusedDataFor: 5\n    })\n  })\n});\nexport const {\n  useGetProductsQuery,\n  useGetProductDetailsQuery,\n  useCreateProductMutation,\n  useUpdateProductMutation,\n  useUploadProductImageMutation,\n  useDeleteProductMutation,\n  useCreateReviewMutation,\n  useGetTopProductsQuery\n} = productsApiSlice;","map":{"version":3,"names":["PRODUCTS_URL","apiSlice","productsApiSlice","injectEndpoints","endpoints","builder","getProducts","query","_ref","keyword","pageNumber","category","url","params","keepUnusedDataFor","providesTags","getProductDetails","productId","createProduct","mutation","method","invalidatesTags","updateProduct","data","body","uploadProductImage","deleteProduct","createReview","getTopProducts","useGetProductsQuery","useGetProductDetailsQuery","useCreateProductMutation","useUpdateProductMutation","useUploadProductImageMutation","useDeleteProductMutation","useCreateReviewMutation","useGetTopProductsQuery"],"sources":["/home/poulg/E-Commerce App/frontend/src/slices/productsApiSlice.js"],"sourcesContent":["import { PRODUCTS_URL } from '../constants';\nimport { apiSlice } from './apiSlice';\n\nexport const productsApiSlice = apiSlice.injectEndpoints({\n  endpoints: (builder) => ({\n    getProducts: builder.query({\n      query: ({ keyword, pageNumber, category }) => ({\n        url: PRODUCTS_URL,\n        params: { keyword, pageNumber, category },\n      }),\n      keepUnusedDataFor: 5,\n      providesTags: ['Products'],\n    }),\n    getProductDetails: builder.query({\n      query: (productId) => ({\n        url: `${PRODUCTS_URL}/${productId}`,\n      }),\n      keepUnusedDataFor: 5,\n    }),\n    createProduct: builder.mutation({\n      query: () => ({\n        url: `${PRODUCTS_URL}`,\n        method: 'POST',\n      }),\n      invalidatesTags: ['Product'],\n    }),\n    updateProduct: builder.mutation({\n      query: (data) => ({\n        url: `${PRODUCTS_URL}/${data.productId}`,\n        method: 'PUT',\n        body: data,\n      }),\n      invalidatesTags: ['Products'],\n    }),\n    uploadProductImage: builder.mutation({\n      query: (data) => ({\n        url: `/api/upload`,\n        method: 'POST',\n        body: data,\n      }),\n    }),\n    deleteProduct: builder.mutation({\n      query: (productId) => ({\n        url: `${PRODUCTS_URL}/${productId}`,\n        method: 'DELETE',\n      }),\n      providesTags: ['Product'],\n    }),\n    createReview: builder.mutation({\n      query: (data) => ({\n        url: `${PRODUCTS_URL}/${data.productId}/reviews`,\n        method: 'POST',\n        body: data,\n      }),\n      invalidatesTags: ['Product'],\n    }),\n    getTopProducts: builder.query({\n      query: () => `${PRODUCTS_URL}/top`,\n      keepUnusedDataFor: 5,\n    }),\n  }),\n});\n\nexport const {\n  useGetProductsQuery,\n  useGetProductDetailsQuery,\n  useCreateProductMutation,\n  useUpdateProductMutation,\n  useUploadProductImageMutation,\n  useDeleteProductMutation,\n  useCreateReviewMutation,\n  useGetTopProductsQuery,\n} = productsApiSlice;\n"],"mappings":"AAAA,SAASA,YAAY,QAAQ,cAAc;AAC3C,SAASC,QAAQ,QAAQ,YAAY;AAErC,OAAO,MAAMC,gBAAgB,GAAGD,QAAQ,CAACE,eAAe,CAAC;EACvDC,SAAS,EAAGC,OAAO,KAAM;IACvBC,WAAW,EAAED,OAAO,CAACE,KAAK,CAAC;MACzBA,KAAK,EAAEC,IAAA;QAAA,IAAC;UAAEC,OAAO;UAAEC,UAAU;UAAEC;QAAS,CAAC,GAAAH,IAAA;QAAA,OAAM;UAC7CI,GAAG,EAAEZ,YAAY;UACjBa,MAAM,EAAE;YAAEJ,OAAO;YAAEC,UAAU;YAAEC;UAAS;QAC1C,CAAC;MAAA,CAAC;MACFG,iBAAiB,EAAE,CAAC;MACpBC,YAAY,EAAE,CAAC,UAAU;IAC3B,CAAC,CAAC;IACFC,iBAAiB,EAAEX,OAAO,CAACE,KAAK,CAAC;MAC/BA,KAAK,EAAGU,SAAS,KAAM;QACrBL,GAAG,EAAG,GAAEZ,YAAa,IAAGiB,SAAU;MACpC,CAAC,CAAC;MACFH,iBAAiB,EAAE;IACrB,CAAC,CAAC;IACFI,aAAa,EAAEb,OAAO,CAACc,QAAQ,CAAC;MAC9BZ,KAAK,EAAEA,CAAA,MAAO;QACZK,GAAG,EAAG,GAAEZ,YAAa,EAAC;QACtBoB,MAAM,EAAE;MACV,CAAC,CAAC;MACFC,eAAe,EAAE,CAAC,SAAS;IAC7B,CAAC,CAAC;IACFC,aAAa,EAAEjB,OAAO,CAACc,QAAQ,CAAC;MAC9BZ,KAAK,EAAGgB,IAAI,KAAM;QAChBX,GAAG,EAAG,GAAEZ,YAAa,IAAGuB,IAAI,CAACN,SAAU,EAAC;QACxCG,MAAM,EAAE,KAAK;QACbI,IAAI,EAAED;MACR,CAAC,CAAC;MACFF,eAAe,EAAE,CAAC,UAAU;IAC9B,CAAC,CAAC;IACFI,kBAAkB,EAAEpB,OAAO,CAACc,QAAQ,CAAC;MACnCZ,KAAK,EAAGgB,IAAI,KAAM;QAChBX,GAAG,EAAG,aAAY;QAClBQ,MAAM,EAAE,MAAM;QACdI,IAAI,EAAED;MACR,CAAC;IACH,CAAC,CAAC;IACFG,aAAa,EAAErB,OAAO,CAACc,QAAQ,CAAC;MAC9BZ,KAAK,EAAGU,SAAS,KAAM;QACrBL,GAAG,EAAG,GAAEZ,YAAa,IAAGiB,SAAU,EAAC;QACnCG,MAAM,EAAE;MACV,CAAC,CAAC;MACFL,YAAY,EAAE,CAAC,SAAS;IAC1B,CAAC,CAAC;IACFY,YAAY,EAAEtB,OAAO,CAACc,QAAQ,CAAC;MAC7BZ,KAAK,EAAGgB,IAAI,KAAM;QAChBX,GAAG,EAAG,GAAEZ,YAAa,IAAGuB,IAAI,CAACN,SAAU,UAAS;QAChDG,MAAM,EAAE,MAAM;QACdI,IAAI,EAAED;MACR,CAAC,CAAC;MACFF,eAAe,EAAE,CAAC,SAAS;IAC7B,CAAC,CAAC;IACFO,cAAc,EAAEvB,OAAO,CAACE,KAAK,CAAC;MAC5BA,KAAK,EAAEA,CAAA,KAAO,GAAEP,YAAa,MAAK;MAClCc,iBAAiB,EAAE;IACrB,CAAC;EACH,CAAC;AACH,CAAC,CAAC;AAEF,OAAO,MAAM;EACXe,mBAAmB;EACnBC,yBAAyB;EACzBC,wBAAwB;EACxBC,wBAAwB;EACxBC,6BAA6B;EAC7BC,wBAAwB;EACxBC,uBAAuB;EACvBC;AACF,CAAC,GAAGlC,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}